<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="org.labi.permissionsystem.dao.UserDao">
    <select id="getRolesByUserId" resultType="org.labi.permissionsystem.bean.Role">
        select r.* from role r,usr_role urr where urr.rid=r.id and urr.usrid=#{userId}
    </select>
    <select id="getUsersToExport" resultType="org.labi.permissionsystem.bean.beanTools.UserExportBean">
        SELECT
        usr.name AS name,
        usr.username AS username
        FROM
        usr
        WHERE
        1 = 1
        <if test="name!=null">
            AND usr.name = #{name}
        </if>
    </select>
</mapper>